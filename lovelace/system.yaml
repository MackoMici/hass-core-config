- type: custom:mushroom-title-card
  title: Home Assistant
  card_mod: &background_none
    style: |
      ha-card {
        background: none;
        box-shadow: none;
      }
  view_layout:
    grid-area: HA-title
- type: grid
  view_layout:
    grid-area: HA
  columns: 2
  square: false
  cards:
    - type: custom:mushroom-template-card
      entity: sensor.current_version
      card_mod: *background_none
      <<: &none
        tap_action: none
        hold_action: none
        double_tap_action: none
      primary: Core
      icon: mdi:home-assistant
      icon_color: '#2196f3'
      secondary: |
        {% if states(entity) == states('sensor.home_assistant_website') %}
          Naprakész - {{ states(entity) }}
        {% elif states('sensor.home_assistant_website') != 'unavailable' %}
          Legújabb verzió - {{ states('sensor.home_assistant_website') }}
        {% else %}
          Verzió - {{ states(entity) }}
        {% endif %}
    - type: custom:mushroom-entity-card
      entity: sensor.hacs
      card_mod: *background_none
      <<: *none
    - type: custom:mushroom-entity-card
      entity: sensor.home_assistant_v2_db_size
      card_mod: *background_none
      <<: *none
      icon: mdi:database
    - type: custom:mushroom-entity-card
      entity: sensor.home_assistant_log_size
      card_mod: *background_none
      <<: *none
    - type: custom:mushroom-entity-card
      entity: sensor.watchman_missing_entities
      card_mod: *background_none
      <<: *none
    - type: custom:mushroom-entity-card
      entity: sensor.watchman_missing_services
      card_mod: *background_none
      <<: *none
- type: custom:mushroom-title-card
  title: Debian Server
  card_mod: *background_none
  view_layout:
    grid-area: Debian-title
  subtitle: Uptime - {{ states('sensor.home_assistant_uptime') }}
- type: custom:apexcharts-card
  view_layout:
    grid-area: Debian-1
  card_mod: *background_none
  config_templates: 
    - default_chart
    - system_chart
  series:
    - entity: sensor.processor_use
      name: Processor
    - entity: sensor.memory_use_percent
      name: Memory
    - entity: sensor.processor_temperature
      name: Temp
- type: horizontal-stack
  view_layout:
    grid-area: Debian-2
  card_mod: *background_none
  cards:
    - type: custom:decluttering-card
      template: gauge_template
      variables:
        - entity: sensor.disk_use_percent
        - name: SSD
    - type: custom:decluttering-card
      template: gauge_template
      variables:
        - entity: sensor.disk_use_percent_mnt_hdd1
        - name: HDD 2T
    - type: custom:decluttering-card
      template: gauge_template
      variables:
        - entity: sensor.disk_use_percent_mnt_hdd2
        - name: HDD 4T
- type: custom:mushroom-title-card
  title: Network
  card_mod: *background_none
  view_layout:
    grid-area: Network-title
  subtitle: Uptime - {{ states('sensor.mikrotik_router_uptime') }}
- type: grid
  view_layout:
    grid-area: Network-1
  square: false
  columns: 2
  cards:
    - type: vertical-stack
      cards:
        - type: custom:decluttering-card
          template: mushroom_update_template
          variables:
            - entity: update.mikrotik_hap_ac_2_routerboard_firmware_update
            - primary: Mikrotik Firmware
            - icon: mdi:router-network
        - type: custom:decluttering-card
          template: mushroom_update_template
          variables:
            - entity: update.mikrotik_hap_ac_2_routeros_update
            - primary: Mikrotik RouterOS
            - icon: mdi:router-network
    - type: custom:decluttering-card
      template: gauge_template
      variables:
        - entity: sensor.mikrotik_hap_ac_2_hdd_usage
        - name: Storage
- type: custom:apexcharts-card
  card_mod: *background_none
  view_layout:
    grid-area: Network-2
  config_templates:
    - default_chart
    - system_chart
  series:
    - entity: sensor.mikrotik_hap_ac_2_cpu_load
      name: CPU
    - entity: sensor.mikrotik_hap_ac_2_memory_usage
      name: Memory
- type: custom:apexcharts-card
  view_layout:
    grid-area: Network-3
  card_mod: *background_none
  config_templates: 
    - default_chart
    - system_chart
  series:
    - entity: sensor.mikrotik_pppoe_out1_rx
      name: Download
    - entity: sensor.mikrotik_pppoe_out1_tx
      name: Upload
      invert: true
