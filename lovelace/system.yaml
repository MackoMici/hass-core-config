- type: custom:mushroom-title-card
  title: Home Assistant
  view_layout:
    grid-area: HA-title
  card_mod: &background_none
    style: |
      ha-card {
        background: none;
        box-shadow: none;
      }
- type: grid
  view_layout:
    grid-area: HA
  columns: 2
  square: false
  cards:
    - type: custom:mushroom-template-card
      entity: sensor.current_version
      card_mod: *background_none
      <<: &none
        tap_action: none
        hold_action: none
        double_tap_action: none
      primary: Core
      icon: mdi:home-assistant
      icon_color: '#2196f3'
      secondary: |
        {% if states(entity) == states('sensor.home_assistant_website') %}
          Naprakész - {{ states(entity) }}
        {% else %}
          Legújabb verzió - {{ states('sensor.home_assistant_website') }}
        {% endif %}
    - type: custom:mushroom-entity-card
      entity: sensor.hacs
      <<: *none
      card_mod: *background_none
    - type: custom:mushroom-entity-card
      entity: sensor.home_assistant_v2_db_size
      <<: *none
      card_mod: *background_none
      icon: mdi:database
    - type: custom:mushroom-entity-card
      entity: sensor.home_assistant_log_size
      <<: *none
      card_mod: *background_none
    - type: custom:mushroom-entity-card
      entity: sensor.watchman_missing_entities
      <<: *none
      card_mod: *background_none
    - type: custom:mushroom-entity-card
      entity: sensor.watchman_missing_services
      <<: *none
      card_mod: *background_none
- type: custom:mushroom-title-card
  card_mod: *background_none
  title: Debian Server
  view_layout:
    grid-area: Debian-title
  subtitle: Uptime - {{ states('sensor.home_assistant_uptime') }}
- type: grid
  view_layout:
    grid-area: Debian
  square: false
  columns: 3
  cards:
    - type: custom:vertical-stack-in-card
      card_mod: &vertical_height
        style: |
          ha-card {
            background: none;
            box-shadow: none;
            height: 158px;
          }
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.processor_use
            - color: '#2196f3'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.processor_use
            - name: Core
            - color: '#2196f3'                  
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.memory_use_percent
            - color: '#e91e63'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.memory_use_percent
            - name: Memory
            - color: '#e91e63'
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.processor_temperature
            - color: '#ffc662'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.processor_temperature
            - name: Temperature
            - color: '#ffc662'
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.disk_use_percent
            - color: '#4caf4f'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.disk_use_percent
            - name: SSD 120 GB
            - color: '#4caf4f'
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.disk_use_percent_mnt_hdd1
            - color: '#4caf4f'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.disk_use_percent_mnt_hdd1
            - name: HDD 2TB
            - color: '#4caf4f'
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.disk_use_percent_mnt_hdd2
            - color: '#4caf4f'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.disk_use_percent_mnt_hdd2
            - name: HDD 4TB
            - color: '#4caf4f'
- type: custom:mushroom-title-card
  title: Network
  view_layout:
    grid-area: Network-title
  card_mod: *background_none
  subtitle: Uptime - {{ states('sensor.mikrotik_router_uptime') }}
- type: grid
  view_layout:
    grid-area: Network-1
  square: false
  columns: 2
  cards:
    - type: custom:vertical-stack-in-card
      card_mod: *background_none
      cards:
        - type: custom:decluttering-card
          template: mushroom_update_template
          variables:
            - entity: update.mikrotik_hap_ac_2_routerboard_firmware_update
            - primary: Mikrotik Firmware
            - icon: mdi:router-network
        - type: custom:decluttering-card
          template: mushroom_update_template
          variables:
            - entity: update.mikrotik_hap_ac_2_routeros_update
            - primary: Mikrotik RouterOS
            - icon: mdi:router-network
        - type: custom:mushroom-entity-card
          entity: sensor.mikrotik_hap_ac_2_wired_clients
          <<: *none
          card_mod: *background_none
        - type: custom:mushroom-entity-card
          entity: sensor.mikrotik_hap_ac_2_wireless_clients
          <<: *none
          card_mod: *background_none
    - type: custom:vertical-stack-in-card
      card_mod: *background_none
      cards:
        - type: custom:vertical-stack-in-card
          card_mod: *vertical_height
          cards:
            - type: custom:decluttering-card
              template: apexcharts_card_template
              variables:
                - entity: sensor.mikrotik_pppoe_out1_rx
                - color: '#2196f3'
                - size: 80%
                - strokeWidth: 70%
                - max: 1000
                - charth: 130px
            - type: custom:decluttering-card
              template: mushroom_entity_apex_template
              variables:
                - entity: sensor.mikrotik_pppoe_out1_rx
                - name: Download
                - color: '#2196f3'
        - type: custom:vertical-stack-in-card
          card_mod: *vertical_height
          cards:
            - type: custom:decluttering-card
              template: apexcharts_card_template
              variables:
                - entity: sensor.mikrotik_pppoe_out1_tx
                - color: '#e91e63'
                - size: 80%
                - strokeWidth: 70%
                - max: 1000
                - charth: 130px
            - type: custom:decluttering-card
              template: mushroom_entity_apex_template
              variables:
                - entity: sensor.mikrotik_pppoe_out1_tx
                - name: Upload
                - color: '#e91e63'
- type: grid
  view_layout:
    grid-area: Network-2
  square: false
  columns: 3
  cards:
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.mikrotik_hap_ac_2_cpu_load
            - color: '#2196f3'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.mikrotik_hap_ac_2_cpu_load
            - name: Core
            - color: '#2196f3'
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.mikrotik_hap_ac_2_memory_usage
            - color: '#e91e63'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.mikrotik_hap_ac_2_memory_usage
            - name: Memory
            - color: '#e91e63'
    - type: custom:vertical-stack-in-card
      card_mod: *vertical_height
      cards:
        - type: custom:decluttering-card
          template: apexcharts_card_template
          variables:
            - entity: sensor.mikrotik_hap_ac_2_hdd_usage
            - color: '#4caf4f'
        - type: custom:decluttering-card
          template: mushroom_entity_apex_template
          variables:
            - entity: sensor.mikrotik_hap_ac_2_hdd_usage
            - name: Storage
            - icon_color: '#4caf4f'
- type: custom:decluttering-card
  view_layout:
    grid-area: Network-3
  template: mini_graph_template
  variables:
    - entity_x: sensor.mikrotik_pppoe_out1_rx
    - entity_y: sensor.mikrotik_pppoe_out1_tx
    - points_per_hour: 120
